<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Dashboard | Agenda SISREG</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/theme.css">
<link rel="stylesheet" href="css/style.css">
<!-- Bibliotecas externas -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
</head>
<body>
<!-- HEADER -->
<header class="dash-header">
<div style="display:flex;justify-content:space-between;align-items:center;">
<div class="unit-info">
<h1 id="txtUnidade">Carregando unidade...</h1>
<p>Painel Gerencial de Escalas â€¢ <strong>SISREG Amazonas</strong></p>
</div>
<div class="header-btns">
<button id="btnSincronizar" class="btn-main btn-sync">ğŸ”„ Sincronizar</button>
<button id="btnExportarPDF" class="btn-main">ğŸ“„ Exportar PDF</button>
<a href="escalas.html" style="text-decoration:none;">
<button class="btn-main btn-new">â• Nova Escala</button>
</a>
<button id="btnLogout" class="btn-main btn-logout">Sair</button>
</div>
</div>
</header>
<!-- FILTRO -->
<section class="filter-section">
<label for="filtroMes">Filtrar por MÃªs de VigÃªncia:</label>
<select id="filtroMes">
<option value="todos">Mostrar Todos</option>
<option value="01">Janeiro</option><option value="02">Fevereiro</option><option value="03">MarÃ§o</option>
<option value="04">Abril</option><option value="05">Maio</option><option value="06">Junho</option>
<option value="07">Julho</option><option value="08">Agosto</option><option value="09">Setembro</option>
<option value="10">Outubro</option><option value="11">Novembro</option><option value="12">Dezembro</option>
</select>
</section>
<!-- ÃREA DO DASHBOARD (usada no PDF) -->
<main class="container" id="dashboardArea">
<!-- KPIs -->
<section class="kpi-container">
<div class="kpi-card">
<h3>Total de Vagas</h3>
<p id="kpiVagas">0</p>
</div>
<div class="kpi-card">
<h3>% Vagas Retorno</h3>
<p id="kpiRetorno">0%</p>
</div>
<div class="kpi-card">
<h3>Profissionais</h3>
<p id="kpiProfissionais">0</p>
</div>
<div class="kpi-card">
<h3>Procs. Ãšnicos</h3>
<p id="kpiProcedimentos">0</p>
</div>
<div class="kpi-card">
<h3>Procedimento LÃ­der</h3>
<p id="kpiLider" style="font-size:1rem;">-</p>
</div>
</section>
<!-- GRID DE GRÃFICOS -->
<section class="dashboard-grid">
<div class="card">
<h3>ğŸ”¥ Oferta por Dia e HorÃ¡rio</h3>
<canvas id="chartHeatmap"></canvas>
</div>
<div class="card">
<h3>ğŸ¯ Funil de Oferta</h3>
<canvas id="chartFunil"></canvas>
</div>
<div class="card">
<h3>ğŸ§¬ Perfil da Unidade</h3>
<canvas id="chartRadar"></canvas>
</div>
<div class="card">
<h3>ğŸ«§ Profissionais por Impacto</h3>
<canvas id="chartBolhas"></canvas>
</div>
<div class="card">
<h3>ğŸŸ¡ DistribuiÃ§Ã£o de Vagas</h3>
<canvas id="chartDonut"></canvas>
</div>
<div class="card">
<h3>ğŸ“ˆ EvoluÃ§Ã£o da VigÃªncia</h3>
<canvas id="chartLinha"></canvas>
</div>
<div class="card full-width" id="cardInsights">
<div class="card-head">
<h3>ğŸ§  Insights AutomÃ¡ticos</h3>
<button class="btn btn-toggle" id="btnToggleTabela">ğŸ“‹ Ver Tabela</button>
</div>
<ul id="listaInsights"></ul>
</div>
<!-- (Opcional) se seu JS da Fase 3 usar KPI de mÃ©dia -->
<span id="kpiMedia" style="display:none;"></span>
</section>
<!-- TABELA (OCULTA) -->
<section id="secTabela" class="card full-width" style="margin-top:20px;">
<h3>ğŸ“‹ Tabela Detalhada</h3>
<div style="overflow:auto;">
<table id="tabEscalas">
<thead>
<tr>
<th>CPF</th>
<th>Profissional</th>
<th>CÃ³d. Proc.</th>
<th>Procedimento</th>
<th>Exames</th>
<th>Dias</th>
<th>InÃ­cio</th>
<th>Fim</th>
<th>Vagas</th>
<th>Vig. InÃ­cio</th>
<th>Vig. Fim</th>
</tr>
</thead>
<tbody id="corpoTabela"></tbody>
</table>
</div>
</section>
</main>
<!-- FOOTER -->
<footer id="footerCreditos"></footer>

<!-- Scripts - ORDEM CRÃTICA -->
<script src="js/config.js"></script>
<script src="js/dashboard.js"></script>
</body>
</html>
