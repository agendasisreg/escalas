<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Dashboard | Agenda SISREG</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/theme.css">
<link rel="stylesheet" href="css/style.css">

<!-- LIBS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/d3-sankey@0.12.3/dist/d3-sankey.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<style>
.dashboard-grid {
  margin-top: 30px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
  gap: 24px;
}
.card.full-width { grid-column: 1 / -1; }

.score-ia {
  font-size: 48px;
  font-weight: 800;
  text-align: center;
}
.score-label {
  text-align: center;
  margin-top: 6px;
  opacity: .85;
}
</style>
</head>

<body>

<header class="dash-header">
  <div class="unit-info">
    <h1 id="txtUnidade">Carregando...</h1>
    <div class="gradient-line"></div>
    <p>Painel Gerencial Inteligente â€¢ SISREG</p>
  </div>

  <div class="header-btns">
    <button id="btnSincronizar" class="btn-main">ğŸ”„ Sincronizar</button>
    <button id="btnExportarPDF" class="btn-main">ğŸ“„ PDF</button>
    <button id="btnLogout" class="btn-main">Sair</button>
  </div>
</header>

<section class="filter-section">
<label>MÃªs de VigÃªncia:</label>
<select id="filtroMes">
<option value="todos">Todos</option>
<option value="01">Jan</option><option value="02">Fev</option><option value="03">Mar</option>
<option value="04">Abr</option><option value="05">Mai</option><option value="06">Jun</option>
<option value="07">Jul</option><option value="08">Ago</option><option value="09">Set</option>
<option value="10">Out</option><option value="11">Nov</option><option value="12">Dez</option>
</select>
</section>

<main class="container" id="dashboardArea">

<!-- KPIs ORIGINAIS (INTACTOS) -->
<section class="kpi-container">
  <div class="kpi-card"><h3>Total de Vagas</h3><p id="kpiVagas">0</p></div>
  <div class="kpi-card"><h3>% Retorno</h3><p id="kpiRetorno">0%</p></div>
  <div class="kpi-card"><h3>Profissionais</h3><p id="kpiProfissionais">0</p></div>
  <div class="kpi-card"><h3>Procedimentos</h3><p id="kpiProcedimentos">0</p></div>
</section>

<section class="dashboard-grid">

<div class="card">
  <h3>ğŸ§  Score Inteligente da Agenda</h3>
  <div id="scoreIA" class="score-ia">0</div>
  <div id="scoreLabel" class="score-label"></div>
</div>

<div class="card">
  <h3>âš–ï¸ EficiÃªncia dos Profissionais</h3>
  <canvas id="chartScatter"></canvas>
</div>

<div class="card">
  <h3>ğŸ§­ DistribuiÃ§Ã£o da Oferta (Radar)</h3>
  <canvas id="chartRadar"></canvas>
</div>

<div class="card full-width">
  <h3>ğŸ”€ Fluxo Inteligente de Vagas</h3>
  <svg id="chartSankey" height="420"></svg>
</div>

<div class="card full-width">
  <h3>ğŸ§  Insights EstratÃ©gicos AutomÃ¡ticos</h3>
  <ul id="listaInsights"></ul>
</div>

</section>

<section id="secTabela" style="display:none;">
<table><tbody id="corpoTabela"></tbody></table>
</section>

</main>

<footer id="footerCreditos"></footer>

<script src="js/config.js"></script>
<script src="js/dashboard.js"></script>
</body>
</html>
